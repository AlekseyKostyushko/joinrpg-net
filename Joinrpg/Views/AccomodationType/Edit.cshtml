@using DocumentFormat.OpenXml.Office.CustomUI
@model JoinRpg.Web.Models.Accomodation.AccomomodationTypeViewModel
@{
    ViewBag.IsInEditMode = false;
    ViewBag.ActionName = "Добавить";
    if (Model.Id != 0)
    {
      ViewBag.Title = "Редактирование типа проживания: «" + Model.Project.ProjectName + "\\" + Model.Name + "»";
        <h2>@ViewBag.Title</h2>
      ViewBag.ActionName = "Изменить";
      ViewBag.IsInEditMode = true;
    }
}
@using (Html.BeginForm("Edit", "AccomodationType", new { projectId = Model.ProjectId, Id=Model.Id }, FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
      @if (!ViewBag.IsInEditMode)
      {
          <h4>Новый тип проживания</h4>
          <hr />
      }
      @Html.ValidationSummary(true, "", new { @class = "text-danger" })
      <div class="form-group">
        @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
          @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
          @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
        </div>
      </div>

      <div class="form-group">
        @Html.LabelFor(model => model.Cost, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
          @Html.EditorFor(model => model.Cost, new { htmlAttributes = new { @class = "form-control" } })
          @Html.ValidationMessageFor(model => model.Cost, "", new { @class = "text-danger" })
        </div>
      </div>

      <div class="form-group">
        <div class="col-md-offset-2 col-md-8">
          @if (ViewBag.IsInEditMode)
          {
              @Html.RouteLink("Отмена", new { projectId = Model.ProjectId, Id = Model.Id, action = "Index", Controller = "AccomodationType" }, new { @class = "btn btn-default pull-right" })
          }

              <button type="submit" class="btn btn-primary pull-right">@ViewBag.ActionName</button> 
         
        </div>
      </div>
    </div>
}

